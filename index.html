<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>PrintLab Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="app-shell">
    <header>
      <div class="brand">
        <img src="logo.svg" alt="Company logo" class="brand-logo" />
      </div>
      <div class="badge">PrintLab Calculator</div>
    </header>

    <!-- TOP TABS -->
    <nav class="calculator-tabs">
      <button class="tab-button active" data-tab="labelTab">Label Print Calculator</button>
      <button class="tab-button" data-tab="flowpackTab">Flowpack Print Calculator</button>
      <button class="tab-button" data-tab="candyJarTab">Candy Jar Calculator</button>
      <button class="tab-button" data-tab="coronaUvTab">Corona &amp; UV Calculator</button>
    </nav>

    <!-- ===================== LABEL PRINT TAB ===================== -->
    <div id="labelTab" class="tab-panel active">
      <!-- QUICK GUIDE BUTTON -->
      <div class="sub-header">
        <button id="helpToggle" type="button" class="help-toggle">
          <div class="help-toggle-icon">?</div>
          <span>Quick guide</span>
        </button>
      </div>

      <!-- QUICK GUIDE PANEL -->
      <div id="helpPanel" class="summary-box">
        <strong>Quick guide – how to use this calculator</strong>
        <ul>
          <li><strong>1.</strong> Choose the correct <em>product size</em> in the dropdown (changing product resets all designs and lanes).</li>
          <li><strong>2.</strong> For each design, enter <em>Total labels</em> and number of <em>Lanes for this design</em>.</li>
          <li><strong>3.</strong> The sum of lanes across all designs cannot exceed the product’s <em>max lanes</em>. If it does, lane counts are reduced automatically.</li>
          <li><strong>4.</strong> Use <em>“+ Add design”</em> to add more rows. If all lanes are already used, you cannot add more designs.</li>
          <li><strong>5.</strong> Check the <em>Result</em> section for lanes, clicks, produced labels and waste.</li>
          <li><strong>6.</strong> For all products except <em>Penta-Petit 196 x 48 mm</em>, total clicks include 18 extra setup clicks and are rounded up to the next 10.</li>
        </ul>
      </div>

      <!-- PRODUCT SIZE SELECTION -->
      <section class="section">
        <div class="section-header">
          <div class="section-step">1</div>
          <div class="section-title">Product size</div>
        </div>
        <div class="controls-row">
          <label for="productSelect">
            Product
            <select id="productSelect"></select>
          </label>
          <div class="pill-highlight">
            <span>Change product resets designs</span>
          </div>
        </div>

        <div id="productInfo" class="summary-box"></div>
      </section>

      <!-- DESIGN / LANE SETUP -->
      <section class="section">
        <div class="section-header">
          <div class="section-step">2</div>
          <div class="section-title">Designs &amp; lanes</div>
        </div>
        <p class="muted">
          Start with one design. Use <strong>Add design</strong> to add more rows, and set how many lanes each design
          uses.
        </p>

        <div class="controls-row">
          <button id="addRowBtn" type="button">
            + Add design
          </button>
        </div>

        <div class="table-wrapper">
          <table id="designTable">
            <thead>
              <tr>
                <th style="width: 35%;">Designs</th>
                <th style="width: 25%;">Total labels</th>
                <th style="width: 25%;">Lanes for this design</th>
                <th style="width: 15%;">Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div id="laneWarning" class="error-text"></div>
      </section>

      <!-- RESULTS -->
      <section class="section">
        <div class="section-header">
          <div class="section-step">3</div>
          <div class="section-title">Result (distribution &amp; print count)</div>
        </div>

        <div class="results-grid">
          <div id="resultsSummary" class="summary-box"></div>

          <div class="table-wrapper">
            <table id="resultTable">
              <thead>
                <tr>
                  <th>Lane</th>
                  <th>Design</th>
                  <th class="right">Needed per lane</th>
                  <th class="right">Labels per click</th>
                  <th class="right">Total clicks</th>
                  <th class="right">Produced labels</th>
                  <th class="right">Waste</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>
    </div>

    <!-- ===================== FLOWPACK TAB ===================== -->
    <div id="flowpackTab" class="tab-panel">
      <section class="section">
        <div class="section-header">
          <div class="section-step">1</div>
          <div class="section-title">Candy wrappers &amp; lanes</div>
        </div>
        <p class="muted">
          For flowpack candy wrappers. Add designs, set lanes (max 3 total), and enter how many kilos of candy you
          produce for each design. The calculator adds <strong>2 kg</strong> per design for adjustment of diecut and
          wrapping machines.
        </p>

        <div class="controls-row">
          <button id="flowpackAddRowBtn" type="button">
            + Add flowpack design
          </button>
        </div>

        <div class="table-wrapper">
          <table id="flowpackTable">
            <thead>
              <tr>
                <th style="width: 30%;">Design</th>
                <th style="width: 20%;">Kilos of candy</th>
                <th style="width: 15%;">Lanes for this design</th>
                <th style="width: 15%;">Clicks to print</th>
                <th style="width: 20%;">Diecut stop (meters)</th>
                <th style="width: 10%;">Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>

      <section class="section">
        <div class="section-header">
          <div class="section-step">2</div>
          <div class="section-title">Flowpack result</div>
        </div>
        <div id="flowpackSummary" class="summary-box"></div>
      </section>
    </div>

    <!-- ===================== CANDY JAR TAB ===================== -->
    <div id="candyJarTab" class="tab-panel">
      <section class="section">
        <div class="section-header">
          <div class="section-step">1</div>
          <div class="section-title">Midi / Maxi jars</div>
        </div>
        <p class="muted">
          For candy jars on Midi and Maxi. Choose product type and how many jars to produce. The result follows your
          internal planning table (kg, clicks and approximate diecut stop).
        </p>

        <div class="controls-row controls-row-left">
          <label>
            Product type
            <select id="jarProductSelect">
              <option value="midi">Midi Jars</option>
              <option value="maxi">Maxi Jars</option>
            </select>
          </label>

          <label>
            Jars to produce (pcs)
            <input id="jarCountInput" type="number" min="1" step="1" />
          </label>
        </div>
      </section>

      <section class="section">
        <div class="section-header">
          <div class="section-step">2</div>
          <div class="section-title">Candy jar result</div>
        </div>
        <div id="jarSummary" class="summary-box"></div>
      </section>
    </div>

    <!-- ===================== CORONA & UV TAB ===================== -->
    <div id="coronaUvTab" class="tab-panel">
      <!-- UV SECTION -->
      <section class="section">
        <div class="section-header">
          <div class="section-step">1</div>
          <div class="section-title">UV settings</div>
        </div>
        <p class="muted">
          Choose adhesive/varnish, running speed and desired mode. The calculator suggests a starting point for
          <strong>Min Power</strong> and <strong>Gradient</strong> on the UV unit.
        </p>

        <div class="controls-row controls-row-left">
          <label>
            Adhesive / varnish
            <select id="uvAdhesiveSelect">
              <option value="FPC406">FPC 406 (standard)</option>
            </select>
          </label>

          <label>
            Speed (m/min)
            <input id="uvSpeedInput" type="number" min="10" step="1" />
          </label>

          <label>
            Mode
            <select id="uvModeSelect">
              <option value="eco">Eco</option>
              <option value="normal" selected>Normal</option>
              <option value="strong">Strong</option>
            </select>
          </label>
        </div>

        <div id="uvSummary" class="summary-box"></div>
      </section>

      <!-- CORONA SECTION -->
      <section class="section">
        <div class="section-header">
          <div class="section-step">2</div>
          <div class="section-title">Corona treatment</div>
        </div>
        <p class="muted">
          Select material family, process and speed. Optionally enter current dyne level. The calculator suggests a
          corona power setting and target dyne range.
        </p>

        <div class="controls-row controls-row-left">
          <label>
            Material family
            <select id="coronaMaterialSelect">
              <option value="paper">Paper / Board</option>
              <option value="pe">PE / BOPP film</option>
              <option value="pet">PET / Metallised film</option>
            </select>
          </label>

          <label>
            Process
            <select id="coronaProcessSelect">
              <option value="printing">Printing</option>
              <option value="varnish">Varnish</option>
              <option value="lamination">Lamination</option>
              <option value="coldfoil">Cold foil</option>
            </select>
          </label>

          <label>
            Web speed (m/min)
            <input id="coronaSpeedInput" type="number" min="10" step="1" />
          </label>

          <label>
            Current dyne (dyn/cm, optional)
            <input id="coronaDyneInput" type="number" min="20" max="50" step="1" />
          </label>
        </div>

        <div id="coronaSummary" class="summary-box"></div>
      </section>
    </div>
  </div>

  <!-- Split JS files (order matters) -->
  <script src="script-common.js"></script>
  <script src="script-label.js"></script>
  <script src="script-flowpack.js"></script>
  <script src="script-candyjar.js"></script>
  <script src="script-corona-uv.js"></script>
  <script src="script-init.js"></script>
</body>

</html>

      